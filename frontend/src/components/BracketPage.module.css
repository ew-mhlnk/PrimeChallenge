.container {
  height: 100dvh;
  width: 100%;
  background-color: #141414;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* --- Header --- */
.header {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  padding: 20px 24px 10px;
  gap: 12px;
  background-color: #141414;
  z-index: 20;
}

.backArrow {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 5px;
  background: transparent;
  border: none;
}

.tournamentTitle {
  color: #FFFFFF;
  font-size: 16px;
  font-weight: 700;
  letter-spacing: 0.5px;
}

/* --- Навигация по раундам --- */
.roundsContainer {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 24px 15px 24px;
  overflow-x: auto;
  scrollbar-width: none;
  height: 50px;
}
.roundsContainer::-webkit-scrollbar {
  display: none;
}

/* Кнопки раундов: простая форма, меняется только цвет */
.roundButton {
  padding: 8px 16px;
  border-radius: 12px;
  font-size: 13px;
  font-weight: 600;
  white-space: nowrap;
  cursor: pointer;
  transition: all 0.2s ease;
  background: transparent;
  color: #5F6067;
  border: 1px solid transparent;
}

/* Активный раунд: просто белый текст и легкий фон, без изменения размера */
.activeRound {
  background: #2C2C2E;
  color: #FFFFFF;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- КОНТЕЙНЕР СЕТКИ --- */
.bracketWindow {
  flex: 1;
  min-height: 0;
  margin: 0 24px 0px 24px;
  /* Убрали фон и рамку у самого окна, чтобы контент "дышал" */
  background: transparent; 
  position: relative;
  overflow: hidden; /* Важно для слайдера */
  display: flex;
  flex-direction: column;
}

.scrollArea {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden; /* Запрещаем горизонтальный скролл внутри, только слайд */
  padding: 10px 0 20px 0; /* Убрали боковые отступы внутри скролла */
  scrollbar-width: none;
}
.scrollArea::-webkit-scrollbar {
  display: none;
}

/* --- СПИСОК МАТЧЕЙ --- */
.matchList {
  display: flex;
  flex-direction: column;
  gap: 24px; /* Отступ между матчами */
  width: 100%;
}

/* Оболочка одного матча */
.battleWrapper {
  display: flex;
  position: relative;
  width: 100%;
  /* padding-right нужен, чтобы скобка не обрезалась краем экрана */
  padding-right: 16px; 
}

/* Контейнер двух игроков */
.matchContainer {
  display: flex;
  flex-direction: column;
  width: 100%;
  background: #1B1B1B;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
  z-index: 10; /* Поверх скобки */
}

/* Карточка игрока */
.playerRow {
  height: 40px; /* Фиксированная высота */
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 12px;
  cursor: pointer;
  transition: background 0.2s ease;
  position: relative;
  /* Линия между игроками внутри матча */
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.playerRow:last-child {
  border-bottom: none;
}

.playerInfo {
  display: flex;
  align-items: center;
  gap: 8px;
  overflow: hidden;
  flex: 1;
}

.playerName {
  color: #FFFFFF;
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.playerSeed {
  color: #5F6067;
  font-size: 11px;
  font-weight: 400;
  text-align: right;
  min-width: 15px;
}

/* Состояния */
.selected { background: linear-gradient(90deg, rgba(0, 178, 255, 0.15) 0%, rgba(0, 178, 255, 0.02) 100%); }
.selected::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: #00B2FF; }
.correct { background: rgba(76, 175, 80, 0.1); }
.correct .playerName { color: #4CAF50; }
.incorrect { background: rgba(244, 67, 54, 0.1); opacity: 0.6; }
.strikethrough { text-decoration: line-through; color: #888; font-size: 13px; }
.checkIcon { color: #00B2FF; margin-left: 6px; }
.tbd { color: #444; font-style: italic; cursor: default; }

/* --- ИДЕАЛЬНАЯ СКОБКА (ATP Style) --- */
.bracketConnector {
  position: absolute;
  /* Прижимаем к правому краю matchContainer, но выносим наружу */
  right: 0; 
  top: 0;
  
  /* Ширина "вилки" */
  width: 16px; 
  
  /* Высота вилки = высота матча (80px) минус половина высоты одной ячейки сверху и снизу.
     Центр первой ячейки: 20px от верха.
     Центр второй ячейки: 60px от верха.
     Разница между центрами = 40px.
  */
  height: 40px; 
  
  /* Сдвигаем вниз, чтобы начало линии совпало с центром первой ячейки (20px) */
  margin-top: 20px; 
  
  /* Сдвигаем вправо на 100%, чтобы она торчала из матча */
  transform: translateX(100%);
  
  /* Рисуем линии */
  border-right: 1px solid #4C4C4C; /* Вертикальная линия */
  border-top: 1px solid #4C4C4C;   /* Горизонтальная от 1 игрока */
  border-bottom: 1px solid #4C4C4C;/* Горизонтальная от 2 игрока */
  
  /* Скругления справа */
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
  
  pointer-events: none;
  z-index: 0;
}

/* Хвостик вправо к следующему раунду */
.bracketConnector::after {
  content: '';
  position: absolute;
  top: 50%;
  right: -8px; /* Длина хвостика */
  width: 8px;
  height: 1px;
  background: #4C4C4C;
  transform: translateY(-50%);
}

/* --- Champion --- */
.championContainer {
  width: 100%;
  background: #1B1B1B;
  border-radius: 12px;
  border: 1px solid rgba(255, 215, 0, 0.4);
  box-shadow: 0 0 25px rgba(255, 215, 0, 0.1);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px;
}
.championName { color: #FFD700; font-size: 15px; font-weight: 700; }

/* --- Footer --- */
.footer {
  flex-shrink: 0;
  padding-bottom: max(20px, env(safe-area-inset-bottom));
  display: flex;
  align-items: flex-start;
  justify-content: center;
  background: transparent;
  z-index: 50;
  margin-top: 10px;
}

.saveButton {
  width: 100%;
  max-width: 200px;
  height: 48px;
  background: #007AFF;
  border-radius: 14px !important;
  color: #FFFFFF;
  font-size: 15px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
}
.saveButtonSaving {
  background: #32D74B;
  box-shadow: 0 4px 15px rgba(50, 215, 75, 0.3);
}